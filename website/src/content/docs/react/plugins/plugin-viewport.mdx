---
title: Viewport Plugin
description: Provides the essential <Viewport /> component, the scrollable container for all PDF content.
searchable: true
---

# Viewport Plugin

The Viewport Plugin is a foundational element for any viewer. It provides the `<Viewport />` component, which acts as the scrollable "window" through which users see the PDF pages. It is responsible for tracking its own dimensions and scroll position and communicating that information to other plugins.

## Installation

The plugin is available as a separate NPM package.

```sh npm2yarn
npm install @embedpdf/plugin-viewport
````

## Registration

Import `ViewportPluginPackage` and add it to the `plugins` array. It is highly recommended to include this plugin in any viewer build.

```tsx {4, 13-15}
import { createPluginRegistration } from '@embedpdf/core'
import { EmbedPDF } from '@embedpdf/core/react'
// ... other imports
import { ViewportPluginPackage } from '@embedpdf/plugin-viewport/react'

const plugins = [
  // ... other essential plugins
  createPluginRegistration(LoaderPluginPackage, { /* ... */ }),
  createPluginRegistration(ScrollPluginPackage),
  createPluginRegistration(RenderPluginPackage),

  // Register and configure the viewport plugin
  createPluginRegistration(ViewportPluginPackage, {
    viewportGap: 10, // Adds 10px of padding inside the viewport
  }),
]
```

## Usage

The plugin provides the `<Viewport />` component, which you use to wrap your `<Scroller />`, and hooks to interact with it programmatically.

### The `<Viewport />` Component

The `<Viewport />` component is the main scrollable container for your PDF. You should place it in your layout and ensure it has a defined size (e.g., `height: '500px'` or `flex-grow: 1`). It automatically handles listening for scroll and resize events.

```tsx
// Inside your viewer component
<div style={{ height: '500px', display: 'flex' }}>
  <Viewport>
    {/* ... */}
  </Viewport>
</div>
```

### Programmatic Scrolling

You can control the viewport's scroll position from any other component using the `useViewportCapability` hook. This is useful for features like a "scroll to top" button or navigating from a table of contents.

```tsx {1,4, 7}
import { useViewportCapability } from '@embedpdf/plugin-viewport/react';

const MyToolbar = () => {
  const { provides: viewport } = useViewportCapability();

  const scrollToTop = () => {
    viewport?.scrollTo({ x: 0, y: 0, behavior: 'smooth' });
  };

  return <button onClick={scrollToTop}>Scroll to Top</button>;
};
```

### Monitoring Scroll Activity

The plugin also provides a `useViewportScrollActivity` hook that returns the current scrolling state. This is useful for creating UIs that react to user scrolling, such as auto-hiding toolbars.

## Live Example

This example demonstrates a viewer with a toolbar that can programmatically scroll the viewport. It also includes an indicator that shows when the viewport is actively scrolling.

import { PDFViewer } from '../code-examples/viewport-example';

<PDFViewer />

## API Reference

### Configuration (`ViewportPluginConfig`)

| Option | Type | Description |
| :--- | :--- | :--- |
| **`viewportGap`** | `number` | The padding (in pixels) to apply around the content inside the viewport. <br />**Default**: `10` |
| **`scrollEndDelay`** | `number` | The time in milliseconds after the last scroll event before the `isScrolling` state is set to `false`. <br />**Default**: `300` |

### Component: `<Viewport />`

A `div`-based component that acts as the scrollable container. It accepts all standard `div` props like `style` and `className`.

### Hook: `useViewportCapability()`

Connects your component to the viewport's functions.

#### Returns

| Property | Type | Description |
| :--- | :--- | :--- |
| **`provides`** | `ViewportCapability \| null` | An object with methods to interact with the viewport, or `null` if the plugin is not ready. |

#### `ViewportCapability` Methods

| Method | Description |
| :--- | :--- |
| **`getMetrics()`** | Returns a `ViewportMetrics` object containing the current dimensions, scroll offsets, and total scrollable area. |
| **`scrollTo(position)`** | Programmatically scrolls the viewport. The `position` object can include `x`, `y`, `behavior: 'smooth'`, and `center: true`. |
| **`getBoundingRect()`**| Returns the `Rect` of the viewport element relative to the browser's viewport. |

### Hook: `useViewportScrollActivity()`

A hook for tracking the scroll state of the viewport.

#### Returns

| Property | Type | Description |
| :--- | :--- | :--- |
| **`isScrolling`** | `boolean` | `true` if the user is currently scrolling or a smooth scroll animation is in progress. |
| **`isSmoothScrolling`**| `boolean`| `true` only when a smooth scroll animation initiated by `scrollTo` is in progress. |